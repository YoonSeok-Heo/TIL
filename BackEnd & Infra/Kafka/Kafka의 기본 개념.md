# Kafka의 기본 개념

Apache Kafka는 별도의 시작이나 끝이 없는 스트리밍 이벤트 데이터 또는 일반 데이터를 
수집, 처리, 저장하는 데 널리 사용되는 이벤트 스트리밍 플랫폼이다.

> ### 이벤트란?
> 
> 소프트웨어에서 발생하는 사건, 작업 또는 변경사항이며, 다른 표현으로는 메시지라고도 한다.
> 
> ex) 대규모 웹서비스에서 회원가입, 정보변경 등의 이벤트를 의미한다.


![image](https://github.com/YoonSeok-Heo/TIL/assets/113662725/e84fe1df-ded6-4fbd-9e34-e567d1139c8a)

- 이벤트 발행자: 다양한 이벤트를 만들어 낸다.
- 이벤트 구독자: 이벤트들을 처리하는 역할을 한다.
- Kafka: 발행자와 구독자 사이에서 중계하는 역할을 한다.

---

![image](https://github.com/YoonSeok-Heo/TIL/assets/113662725/da4d8a38-aadd-4dd3-aa1a-5e915d95e824)

소규모 시스템에서는 위 이미지와 같이 이벤트 발행자와 이벤트를 사용하는 시스템이
서로 직접 메시지를 정의하고 트래픽의 양 또는 특성을 정의한다.


![image](https://github.com/YoonSeok-Heo/TIL/assets/113662725/d7f004d3-54fd-48dc-a4e6-649633bf78be)

하지만 위 이미지와 같은 대규모 시스템에서는 위와같은 시스템의 관계가 너무나도 많아진다.
그렇게 때문에 시스템이 복잡해져 변경이 취약해지고 장애에 노출되기 쉬워진다.

---

## 대규모 시스템에 Kafka를 도입하게 된다면.

![image](https://github.com/YoonSeok-Heo/TIL/assets/113662725/ec0f881d-0374-45c7-b80b-b587bc35cc3b)

> 이벤트 발행자들은 이벤트 수신자와 직접 연결하지 않고 매우 심플하게 연결해주는 모습을 확인할 수 있다.

Kafka에 이벤트를 전달하면 Kafka는 각자 알맞는 수신자에게 이벤트 메시지를 다시 전달하는 과정을 거친다.

위와 같이 Kafka를 거치게 된다면 시스템간의 의존성을 자연스럽게 낮출 수 있고,
서로간의 변동이나 장애로 인해서 비교적 자유로워질 수 있다.
각 시스템은 Kafka와의 연결만 신경쓰면 된다는 뜻이다.