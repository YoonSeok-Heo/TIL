# 자동 재전송 방식 ARQ(Automatic Request for Repeat)

네트워크에서 오류를 제어하는 기법으로 신뢰성 있는 데이터 전달을 위해, 재전송을 기반으로 하는 에러제어 방식이다.

## ARQ방식의 특징
- 수신자 피드백 방식
  - 수신측이 송신측에 재전송을 요구하는 방식
    - 데이터 내 첨부된 오류검출(체크섬 등) 정보로 에러 발생 유뮤를 점검하고 에러가 발생한 프레임에 대해 재전송을 요구함
    - 긍정확인(ACK) 및 타임아웃(일정시간) 등으로 신뢰성 확보
- 오류검출 만으로도 통신회선의 신뢰성 제고 가능
    - ARQ 기법은 비록 오류정정 체계를 갖추지는 못하였더라도, 오류검출 만으로 통신회선의 신뢰성 확보에 충분함
    - 특히, 적은 오류 발생일 때 더욱 효과적
- 결론
  - ARQ는 재전송을 기반으로하여 링크의 신뢰성을 확보하는 기법
  - 다만, 실시간 처리에는 곤란

## ARQ 구현시 필요한 기능
1. 오류 검출
   - 데이터 기반 메커니즘: 체크섬, 패리티 검사, CRC 등
     - 데이터 내에 부가된 리던던시에 의해 오류검출
   - 시간 기반 메커니즘: 타이머 사용
     - 송신측은 일정시간(타임아웃)내 수신측으로부터 ACK가 도착하지 않으면 에러가 발생

2. 수신 여부 피드백
    - 긍정 확인시: ACK(긍정 확인 응답)
    - 부정 확인시: NACK(부정 확인 응답) 또는 일정시간 ACK 미수신 시 타임아웃으로 인지하고 주정 확인으로 간주

3. 재전송의 신뢰화 및 효율화
    - 재전송 신뢰성 확보
      - 시간 기반 재전송 메커니즘: 타이머 사용(RTO 등)
      - 확인응답 기반 재전송 메커니즘: 확인응답(ACK) 메세지의 도착 유무
    - 재전송 효율성 확보
      - 느린 시작?? 알아보자.

## ARQ 방식의 종류

1. 정지대기방식 (Stop and Wait)
   - 한 번에 하나씩 긍정 확인응답(ACK)을 받고 후속 데이터를 전송.
   - 가장 단순하나 비효율적이다.
   - 반이중 방식에서도 사용 가능
2. Go Back N ARQ (연속적 ARQ)
    - NAK(부정확인응답)를 수신할 때까지 계속하여 데이터를 송신함
    - 한번에 여러 개를 보낸 후 하나의 긍정 확인응답(ACK)을 받고, 후속 데이터를 전송
    - 전이중방식에서 동작함
        - 슬라이딩 윈도우(Sliding Window)방식 이라고도 불린다.
3. Selective Repeat ARQ (선택적 ARQ, 선택적 재전송)
   - 위 연속적 ARQ 와는 비슷하지만 오류가 발생된(NACK) 프레임 이후 또는 오류 발생된 프레임 만을 재전송
     - ex. TCP 등
   - 전송효율은 좋으나 수신측에서 순서제어를 위한 논리회로 및 큰 용량 버퍼를 필요하며, 구현방법이 복잡
   - 전이중방식에서 동작함
4. Adaptive ARQ (적응적 ARQ)  ☞ Link Adaption, H-ARQ 등 참고
    - 채널의 효율을 최대화하기 위해 에러 발생비율이 높은 경우 블록의 길이를 작게하고, 에러 발생 비율이 낮은 경우 블록의 길이를 크게하는 방식
    - 적응적변경된다.