# 힙(Heap)

- 완전 이진 트리의 일종으로 우선순위 큐를 위해 만들어진 자료구조.
- 최댓값 또는 최솟값을 빠르게 찾아내기위해 만들어진 자료구조.
- 반정렬 상태(느슨한 정렬 상태)를 유지
  - 큰 값이 상위 레벨에 있고 작은 값이 하위에 있다는 정도
  - 부모 노드의 값이 자식 노드보다 항상 크다
- 중복된 값을 허용

## 힙 종류
- 최대 힙(max heap)
  - 부모 노드의 키 값이 자식 노드의 키값보다 크거나 같은 완전 이진트리
  - 부모 key >= 자식 key
- 최소 힙(min heap)
  - 부모 노드의 키 값이 자식 노드의 키 값보다 작거다 같은 완전 이진트리
  - 부모 key <= 자식 key

## 구현

### 완전 이진 트리

완전 이진 트리는 힙의 기본 구조이다.

- 완전 이진트리는 배열로 구현할 수 있으며 완전 이진트리로 만들어진 힙 또한 배열로 구현할 수 있다.
- 구현의 편리함을 위해서는 배열의 0번은 사용하지 않는다.
  - ex) 1번째 노드는 배열의 1번 인덱스에 있다 15번째 노드 또한 배열의 15번 인덱스에 있다.
- 완전 이진 트리의 부모 자식 관계
  - 왼쪽 자식의 인덱스 = 부모 인덱스 * 2
  - 오른쪽 자식의 인덱스  = 부모 인덱스 * 2 + 1
  - 부모 인덱스 = 자식 인덱스 / 2
  - ex) 
    - 1번(root)의 왼쪽자식: 2번, 오른쪽 자식: 3번
    - 4번의 왼쪽자식: 8번, 오른쪽 자식: 9번
    - 8번 9번의 부모: 4번노드

### 삽입

#### 최대 힙
1. 배열의 가장 오른쪽에 값을 넣어준다. (8개의 노드가 들어가 있다면 9인덱스 자리에 데이터 삽입)
2. 1번에서 넣은 노드 값과 부모 노드의 값을 비교해서 부모 노드보다 크기가 크다면 위치를 값을 바꾼다.
3. 2번과정을 부모노드보다 작을때까지 반복한다.

#### 최소 힙
위 최대 힙 과정 2번에서 부모노드가 크기가 크고 삽입한 노드가 작을경우 위치를 바꾼다.


### 삭제

#### 최대 힙
1. 1번노드(root)노드를 삭제한다.
2. 마지막에 있는 노드를 1번노드로 옮긴다.
3. 1번노드에서 자식노드들과 값을 비교한다.
    - 자식 노드들보다 값이 크다면 위치를 바꿀 필요가 없다.
    - 자식 노드들중 더 큰값이 있다면 위치를 바꾼다. 단 자식 노드들이 둘다 크기가 크다면 더 큰 값으로 바꾼다.
 4. 3번 과정을 바꾸면서 자리를 찾아간다.






